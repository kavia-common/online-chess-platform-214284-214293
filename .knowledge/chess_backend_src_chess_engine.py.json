{"is_source_file": true, "format": "Python", "description": "This file contains the implementation of an in-memory single chess game engine, including game state management, move validation, piece movement logic, board representation, and move history tracking. It provides classes and functions to initialize the game, apply moves according to basic rules, and serialize game state for external use.", "external_files": [], "external_methods": ["algebraic_to_index", "index_to_algebraic"], "published": ["GAME", "ChessGame", "IllegalMoveError", "Piece", "MoveRecord"], "classes": [{"name": "Piece", "description": "Represents a chess piece with type and color, can be serialized to dict."}, {"name": "MoveRecord", "description": "Records a move's details such as move number, involved squares, piece, capture, promotion, and move color."}, {"name": "ChessGame", "description": "Manages the state of a single in-memory chess game, including move validation, applying moves, and serializing game state."}], "methods": [{"name": "None restart(self)", "description": "Resets the game to the initial starting position.", "scope": "ChessGame", "scopeKind": "class"}, {"name": "Dict[str,Any] get_state(self)", "description": "Returns the current game state, including board, turn, and status.", "scope": "ChessGame", "scopeKind": "class"}, {"name": "List[Dict[str,Any]] get_history(self)", "description": "Returns the move history as a list of move records.", "scope": "ChessGame", "scopeKind": "class"}, {"name": "MoveRecord apply_move(self, from_sq: str, to_sq: str, promotion: Optional[str] = None)", "description": "Validates and applies a move from one square to another, including special moves like promotion.", "scope": "ChessGame", "scopeKind": "class"}, {"name": "None __init__(self)", "scope": "ChessGame", "scopeKind": "class", "description": "unavailable"}, {"name": "List[Dict[str,Any]] _board_to_response(self)", "scope": "ChessGame", "scopeKind": "class", "description": "unavailable"}, {"name": "None _require_clear_path(self, fr: Tuple[int, int], to: Tuple[int, int])", "scope": "ChessGame", "scopeKind": "class", "description": "unavailable"}, {"name": "None _validate_pawn_move( self, piece: Piece, fr: Tuple[int, int], to: Tuple[int, int], dr: int, dc: int, capture: bool, promotion: Optional[str], )", "scope": "ChessGame", "scopeKind": "class", "description": "unavailable"}, {"name": "None _validate_piece_move( self, piece: Piece, fr: Tuple[int, int], to: Tuple[int, int], capture: bool, promotion: Optional[str], )", "scope": "ChessGame", "scopeKind": "class", "description": "unavailable"}, {"name": "Tuple[int,int] algebraic_to_index(square: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str index_to_algebraic(idx: Tuple[int, int])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str,Any] to_dict(self)", "scope": "Piece", "scopeKind": "class", "description": "unavailable"}], "calls": ["algebraic_to_index", "index_to_algebraic", "self._validate_piece_move", "self._validate_pawn_move", "self._require_clear_path", "piece.to_dict()", "record.to_dict()"], "search-terms": ["in-memory chess engine", "move validation", "piece movement", "board representation", "single game state", "move history", "algebraic notation", "promotion logic"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "ChessGame", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^class ChessGame:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Color", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^Color = Literal[\"white\", \"black\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GAME", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^GAME = ChessGame()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "GameStatus", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^GameStatus = Literal[\"in_progress\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "IllegalMoveError", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^class IllegalMoveError(ValueError):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MoveRecord", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^class MoveRecord:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Piece", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^class Piece:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PieceType", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^PieceType = Literal[\"pawn\", \"rook\", \"knight\", \"bishop\", \"queen\", \"king\"]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def __init__(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "_board_to_response", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def _board_to_response(self) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "member", "signature": "(self)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "_require_clear_path", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def _require_clear_path(self, fr: Tuple[int, int], to: Tuple[int, int]) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, fr: Tuple[int, int], to: Tuple[int, int])", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "_validate_pawn_move", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def _validate_pawn_move($/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "( self, piece: Piece, fr: Tuple[int, int], to: Tuple[int, int], dr: int, dc: int, capture: bool, promotion: Optional[str], )", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "_validate_piece_move", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def _validate_piece_move($/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "( self, piece: Piece, fr: Tuple[int, int], to: Tuple[int, int], capture: bool, promotion: Optional[str], )", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "algebraic_to_index", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^def algebraic_to_index(square: str) -> Tuple[int, int]:$/", "language": "Python", "typeref": "typename:Tuple[int,int]", "kind": "function", "signature": "(square: str)"}, {"_type": "tag", "name": "apply_move", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def apply_move(self, from_sq: str, to_sq: str, promotion: Optional[str] = None) -> MoveRecor/", "language": "Python", "typeref": "typename:MoveRecord", "kind": "member", "signature": "(self, from_sq: str, to_sq: str, promotion: Optional[str] = None)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "get_history", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def get_history(self) -> List[Dict[str, Any]]:$/", "language": "Python", "typeref": "typename:List[Dict[str,Any]]", "kind": "member", "signature": "(self)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "get_state", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def get_state(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "index_to_algebraic", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^def index_to_algebraic(idx: Tuple[int, int]) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(idx: Tuple[int, int])"}, {"_type": "tag", "name": "restart", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def restart(self) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self)", "scope": "ChessGame", "scopeKind": "class"}, {"_type": "tag", "name": "to_dict", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def to_dict(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "MoveRecord", "scopeKind": "class"}, {"_type": "tag", "name": "to_dict", "path": "/home/kavia/workspace/code-generation/online-chess-platform-214284-214293/chess_backend/src/chess/engine.py", "pattern": "/^    def to_dict(self) -> Dict[str, Any]:$/", "language": "Python", "typeref": "typename:Dict[str,Any]", "kind": "member", "signature": "(self)", "scope": "Piece", "scopeKind": "class"}], "hash": "81a20ec9b556ecdb7a239abe4ef9cafe", "format-version": 4, "code-base-name": "chess_backend", "filename": "chess_backend/src/chess/engine.py", "fields": [{"name": "Color = Literal[\"white\", \"black\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GAME = ChessGame()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "GameStatus = Literal[\"in_progress\"]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PieceType = Literal[\"pawn\", \"rook\", \"knight\", \"bishop\", \"queen\", \"king\"]", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"11": ""}]}